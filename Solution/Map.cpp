#include "Map.h"

MAPDATA MAP0[] = {
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
	{
		"street/map0/map0_00_01.png",
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"++++++++++++++++"
		"################"
		"################"
	},
};

Map::Map( ) {
	_length = ( sizeof( MAP0 ) / sizeof( MAPDATA ) - 1 ) * BG_SIZE;
	_data = MAP0;
}

Map::~Map( ) {
}

int Map::getLength( ) const {
	return _length;
}

const char * Map::getFilename( int idx ) const {
	return _data[ idx ].filename;
}

bool Map::isChip( int x, int y ) const {
	if ( x < 0 || x >= MAPCHIP_NUM ||
		 y < 0 || y >= MAPCHIP_NUM ) {
		return true;
	}

	int bg_idx = x / BG_SIZE; 
	int chip_idx = x % BG_SIZE / MAPCHIP_SIZE + y / MAPCHIP_SIZE * MAPCHIP_NUM; 
	return _data[ bg_idx ].chip[ chip_idx ] == '#';
}

